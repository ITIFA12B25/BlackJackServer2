  // -------- Spiel beitreten --------
    if (type == "join") {
        if (gameIdFromMsg.isEmpty()) {
            sendError("missing gameId");
            return;
        }

        if (!m_manager->exists(gameIdFromMsg)) {
            sendError("game not found");
            return;
        }

        m_gameId = gameIdFromMsg;

        sendJson(QJsonObject{
            {"type","joined"},
            {"gameId",m_gameId}
        });
        return;        
    }